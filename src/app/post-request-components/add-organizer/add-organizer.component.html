<div class="add-organizer-form">
  <form [formGroup]="organizerForm" (ngSubmit)="addOrganizer()">
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="address"
        placeholder="Address"
        formControlName="address"
      />
      <label for="address">Organizer Address</label>

      @if (backendErrors.Address) { @for (error of backendErrors.Address; track
      $index) {
      <div class="text-danger small">
        <div>{{ error }}</div>
      </div>
      } }
    </div>

    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="city"
        placeholder="City"
        formControlName="city"
      />
      <label for="city">Organizer City</label>

      @if (backendErrors.City) { @for (error of backendErrors.City; track
      $index) {
      <div class="text-danger small">
        <div>{{ error }}</div>
      </div>
      } }
    </div>

    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="country"
        placeholder="Country"
        formControlName="country"
      />
      <label for="country">Organizer Country</label>

      @if (backendErrors.Country) { @for (error of backendErrors.Country; track
      $index) {
      <div class="text-danger small">
        <div>{{ error }}</div>
      </div>
      } }
    </div>

    <div class="form-floating mb-3">
      <textarea
        class="form-control"
        id="description"
        formControlName="description"
        placeholder="Description"
        style="min-height: 100px"
      ></textarea>
      <label for="description">Organizer Description</label>

      @if (backendErrors.Description) { @for (error of
      backendErrors.Description; track $index) {
      <div class="text-danger small">
        <div>{{ error }}</div>
      </div>
      } }
    </div>

    <div class="mb-3">
      <label for="imageInput" class="form-label">Upload Logo</label>
      <input
        class="form-control form-control-lg"
        type="file"
        id="imageInput"
        (change)="onFileSelected($event)"
        accept="image/*"
      />

      @if (backendErrors.Logo) { @for (error of backendErrors.Logo; track
      $index) {
      <div class="text-danger small">
        <div>{{ error }}</div>
      </div>
      } }
    </div>

    <div
      *ngIf="imagePreview"
      class="preview-container d-flex flex-wrap gap-3 my-3"
    >
      <div class="position-relative border rounded p-1">
        <button
          type="button"
          class="btn-close position-absolute top-0 end-0 m-1"
          (click)="removeImage()"
        ></button>
        <img
          [src]="imagePreview"
          alt="Preview"
          class="img-thumbnail"
          style="width: 120px; height: 120px; object-fit: cover"
        />
      </div>
    </div>

    <div class="d-flex justify-content-end">
      <button type="submit" class="btn btn-success mt-3">Add Organizer</button>
    </div>
  </form>

  @if (added) {
  <form class="mt-5" (ngSubmit)="verifyOrganizer()">
    <div class="form-floating mb-3">
      <input
        [(ngModel)]="emailCode"
        type="text"
        class="form-control"
        name="emailCode"
        id="emailCode"
        placeholder="123456"
      />
      <label for="emailCode">Email Code</label>
    </div>

    <div class="form-floating mb-3">
      <input
        [(ngModel)]="smsCode"
        type="text"
        class="form-control"
        name="smsCode"
        id="smsCode"
        placeholder="123456"
      />
      <label for="smsCode">SMS Code</label>
    </div>

    <div style="display: flex; justify-content: flex-end" class="verify-button">
      <button type="submit" style="float: right" class="btn btn-primary mt-3">
        Verify Organizer
      </button>
    </div>
  </form>
  }
</div>
