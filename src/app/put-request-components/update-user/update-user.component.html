<div class="update-form">
  <form [formGroup]="form" (ngSubmit)="updateUser()">
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        formControlName="name"
        id="name"
        placeholder="Jon doe"
      />
      <label for="name">Account Name</label>

      @for (error of getErrorMessages('Name'); track $index) {
      <div class="text-danger mt-1">
        {{ error }}
      </div>
      }
    </div>

    <div class="form-floating mb-3">
      <input
        type="email"
        class="form-control"
        formControlName="email"
        id="email"
        placeholder="name@example.com"
      />
      <label for="email">Email address</label>

      @for (error of getErrorMessages('Email'); track $index) {
      <div class="text-danger mt-1">
        {{ error }}
      </div>
      }
    </div>

    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        formControlName="phoneNumber"
        id="number"
        placeholder="555 555 555"
      />
      <label for="number">Phone Number</label>

      @for (error of getErrorMessages('PhoneNumber'); track $index) {
      <div class="text-danger mt-1">
        {{ error }}
      </div>
      }
    </div>

    <div class="mb-3">
      <label for="imageInput" class="form-label">Upload Image</label>
      <input
        class="form-control form-control-lg"
        type="file"
        id="imageInput"
        (change)="onFileSelected($event)"
        accept="image/*"
      />
    </div>

    @if (imagePreview) {
    <div class="preview-container d-flex flex-wrap gap-3 my-3">
      <div class="position-relative border rounded p-1">
        <button
          style="margin: -8px -10px"
          type="button"
          class="btn-close position-absolute top-0 end-0"
          aria-label="Close"
          (click)="removeImage()"
        ></button>
        <img
          [src]="imagePreview"
          alt="Preview"
          class="img-thumbnail"
          style="width: 120px; height: 120px; object-fit: cover"
        />
      </div>
    </div>
    }

    <button type="submit" style="float: right" class="btn btn-warning mt-3">
      Update User
    </button>
  </form>
</div>
